require=function i(r,a,s){function l(n,e){if(!a[n]){if(!r[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(u)return u(n,!0);var o=new Error("Cannot find module '"+n+"'");throw o.code="MODULE_NOT_FOUND",o}var c=a[n]={exports:{}};r[n][0].call(c.exports,function(e){var t=r[n][1][e];return l(t||e)},c,c.exports,i,r,a,s)}return a[n].exports}for(var u="function"==typeof require&&require,e=0;e<s.length;e++)l(s[e]);return l}({LanguageData:[function(e,t,n){"use strict";cc._RF.push(t,"61de062n4dJ7ZM9/Xdumozn","LanguageData");var o=e("polyglot.min"),c=null;function i(e){return window.i18n.languages[e]}function r(e){e&&(c?c.replace(e):c=new o({phrases:e,allowMissing:!0}))}window.i18n||(window.i18n={languages:{},curLang:""}),t.exports={init:function(e){if(e!==window.i18n.curLang){var t=i(e)||{};window.i18n.curLang=e,r(t),this.inst=c}},t:function(e,t){if(c)return c.t(e,t)},inst:c,updateSceneRenderers:function(){for(var e=cc.director.getScene().children,t=[],n=0;n<e.length;++n){var o=e[n].getComponentsInChildren("LocalizedLabel");Array.prototype.push.apply(t,o)}for(var c=0;c<t.length;++c){t[c].updateLabel()}for(var i=[],r=0;r<e.length;++r){var a=e[r].getComponentsInChildren("LocalizedSprite");Array.prototype.push.apply(i,a)}for(var s=0;s<i.length;++s){i[s].updateSprite(window.i18n.curLang)}}},cc._RF.pop()},{"polyglot.min":"polyglot.min"}],LocalizedLabel:[function(e,t,n){"use strict";cc._RF.push(t,"744dcs4DCdNprNhG0xwq6FK","LocalizedLabel");var o=e("LanguageData");cc.Class({extends:cc.Component,editor:{executeInEditMode:!0,menu:"i18n/LocalizedLabel"},properties:{dataID:{get:function(){return this._dataID},set:function(e){this._dataID!==e&&(this._dataID=e,this.updateLabel())}},_dataID:""},onLoad:function(){o.inst||o.init(),this.fetchRender()},fetchRender:function(){var e=this.getComponent(cc.Label);if(e)return this.label=e,void this.updateLabel()},updateLabel:function(){this.label?o.t(this.dataID)&&(this.label.string=o.t(this.dataID)):cc.error("Failed to update localized label, label component is invalid!")}}),cc._RF.pop()},{LanguageData:"LanguageData"}],LocalizedSprite:[function(e,t,n){"use strict";cc._RF.push(t,"f34ac2GGiVOBbG6XlfvgYP4","LocalizedSprite");var o=e("SpriteFrameSet");cc.Class({extends:cc.Component,editor:{executeInEditMode:!0,inspector:"packages://i18n/inspector/localized-sprite.js",menu:"i18n/LocalizedSprite"},properties:{spriteFrameSet:{default:[],type:o}},onLoad:function(){this.fetchRender()},fetchRender:function(){var e=this.getComponent(cc.Sprite);if(e)return this.sprite=e,void this.updateSprite(window.i18n.curLang)},getSpriteFrameByLang:function(e){for(var t=0;t<this.spriteFrameSet.length;++t)if(this.spriteFrameSet[t].language===e)return this.spriteFrameSet[t].spriteFrame},updateSprite:function(e){if(this.sprite){var t=this.getSpriteFrameByLang(e);!t&&this.spriteFrameSet[0]&&(t=this.spriteFrameSet[0].spriteFrame),this.sprite.spriteFrame=t}else cc.error("Failed to update localized sprite, sprite component is invalid!")}}),cc._RF.pop()},{SpriteFrameSet:"SpriteFrameSet"}],SpriteFrameSet:[function(e,t,n){"use strict";cc._RF.push(t,"97019Q80jpE2Yfz4zbuCZBq","SpriteFrameSet");var o=cc.Class({name:"SpriteFrameSet",properties:{language:"",spriteFrame:cc.SpriteFrame}});t.exports=o,cc._RF.pop()},{}],bulletGroup:[function(e,t,n){"use strict";cc._RF.push(t,"c6b5dm2gcBO4aDTJ3kweMLw","bulletGroup");var o=cc.Class({name:"bPosition",properties:{xAxis:{default:"",tooltip:"初始x轴，相对 Player"},yAxis:{default:"",tooltip:"初始y轴，相对 Player"}}}),c=cc.Class({name:"bulletInfinite",properties:{name:"",freqTime:0,initPollCount:0,prefab:cc.Prefab,position:{default:[],type:o,tooltip:"每次多少排子弹"}}}),i=cc.Class({name:"bulletFinite",extends:c,properties:{finiteTime:0,orginName:""}});cc.Class({extends:cc.Component,properties:{bulletInfinite:{default:null,type:c,tooltip:"无限时长子弹组"},bulletFinite:{default:[],type:i,tooltip:"有限时长子弹组"},player:cc.Node},onLoad:function(){this.eState=D.commonInfo.gameState.none,D.common.initObjPool(this,this.bulletInfinite),D.common.batchInitObjPool(this,this.bulletFinite)},start:function(){}}),cc._RF.pop()},{}],common:[function(e,t,n){"use strict";cc._RF.push(t,"381cfiH+jtH+IyTA1pfsFyL","common");var o=cc.Enum({none:0,start:1,stop:2}),c=cc.Class({extends:cc.Component,properties:{},statics:{gameState:o},onLoad:function(){D.commonInfo=c,D.common=this},start:function(){},batchInitObjPool:function(e,t){for(var n=0;n<t.length;n++){var o=t[n];this.initObjPool(e,o)}},initObjPool:function(e,t){var n=t.name+"Pool";e[n]=new cc.NodePool;for(var o=t.initPollCount,c=0;c<o;c++){var i=cc.instantiate(t.prefab);e[n].put(i)}},genNewNode:function(e,t,n){var o=null;return o=0<e.size()?e.get():cc.instantiate(t),n.addChild(o),o}});cc._RF.pop()},{}],control:[function(e,t,n){"use strict";cc._RF.push(t,"e4a27+g379LP5Pxdic+/uU7","control"),cc.Class({extends:cc.Component,properties:{canvas:cc.Node,player:{default:null,type:cc.Node},touchLocationDisplay:{default:null,type:cc.Label},isMoving:!1,enableGravity:!1,moveToPos:cc.Vec2.ZERO,moveSpeed:{default:200,type:cc.Integer},_time:0,_range:cc.p(0,0),_acc:cc.p(0,0)},onLoad:function(){var e=cc.view.getVisibleSize();if(this._range.x=e.width/2-this.player.width/2,this._range.y=e.height/2-this.player.height/2,this.isMoving=!0,this.enableGravity)cc.systemEvent.setAccelerometerEnabled(!0),cc.systemEvent.on(cc.SystemEvent.EventType.DEVICEMOTION,this.onDeviceMotionEvent,this);else{var n=this;n.canvas.on(cc.Node.EventType.TOUCH_START,function(e){var t=e.getTouches()[0].getLocation();n.isMoving=!0,n.moveToPos=n.player.parent.convertToNodeSpaceAR(t),n.touchLocationDisplay.string="("+Math.floor(t.x)+", "+Math.floor(t.y)+")("+Math.floor(n.moveToPos.x)+", "+Math.floor(n.moveToPos.y)+")"},n.node),n.canvas.on(cc.Node.EventType.TOUCH_MOVE,function(e){var t=e.getTouches()[0].getLocation();n.moveToPos=n.player.parent.convertToNodeSpaceAR(t),n.touchLocationDisplay.string="("+Math.floor(t.x)+", "+Math.floor(t.y)+")("+Math.floor(n.moveToPos.x)+", "+Math.floor(n.moveToPos.y)+")"},n.node),n.canvas.on(cc.Node.EventType.TOUCH_END,function(e){n.isMoving=!1},n.node)}},start:function(){},movePlayer:function(e){if(this.isMoving){var t=this.player.position,n=cc.p(),o=cc.p();if(this.enableGravity){this._time+=5,n.x=t.x+this._acc.x*e*(this.moveSpeed+this._time),n.y=t.y+this._acc.y*e*(this.moveSpeed+this._time);var c=cc.pSub(n,t);if(cc.pLength(c)<3)return;o=cc.pNormalize(c)}else{var i=cc.pSub(this.moveToPos,t);if(cc.pLength(i)<3)return;o=cc.pNormalize(i),n=cc.pAdd(t,cc.pMult(o,this.moveSpeed*e))}var r=180*Math.atan2(o.x,o.y)/Math.PI;this.player.rotation=r;var a=this._range;n.x=cc.clampf(n.x,-a.x,a.x),n.y=cc.clampf(n.y,-a.y,a.y),(n.x<=-a.x||n.x>=a.x||n.y<=-a.y||n.y>=a.y)&&(this._time=0),this.player.setPosition(n)}},onDeviceMotionEvent:function(e){this._acc.x=e.acc.x,this._acc.y=e.acc.y},update:function(e){this.movePlayer(e)},onDestroy:function(){this.enableGravity&&cc.systemEvent.off(cc.SystemEvent.EventType.DEVICEMOTION,this.onDeviceMotionEvent,this)}}),cc._RF.pop()},{}],en:[function(e,t,n){"use strict";cc._RF.push(t,"e4ddc8a/vVFwY6n9VQQvxiE","en"),window.i18n||(window.i18n={}),window.i18n.languages||(window.i18n.languages={}),window.i18n.languages.en={},cc._RF.pop()},{}],global:[function(e,t,n){"use strict";cc._RF.push(t,"2acbeFK/3FIM6/79MJsQG7X","global"),window.D={common:null,commonInfo:null},cc._RF.pop()},{}],main:[function(e,t,n){"use strict";cc._RF.push(t,"bb5c1p9H9JP7bT+ApPoK9v5","main"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,c=o.ccclass,i=o.property,r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e}return __extends(e,t),e.prototype.start=function(){},__decorate([i(cc.Label)],e.prototype,"label",void 0),e=__decorate([c],e)}(cc.Component);n.default=r,cc._RF.pop()},{}],menu:[function(e,t,n){"use strict";cc._RF.push(t,"cbbefM2udNPX7Kb4wj50Spl","menu"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,c=o.ccclass,i=o.property,r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.text="hello",e}return __extends(e,t),e.prototype.start=function(){cc.director.preloadScene("game",function(){cc.log("Game scene preloaded")})},e.prototype.test=function(){cc.director.loadScene("game")},__decorate([i(cc.Label)],e.prototype,"label",void 0),__decorate([i],e.prototype,"text",void 0),e=__decorate([c],e)}(cc.Component);n.default=r,cc._RF.pop()},{}],player:[function(e,t,n){"use strict";cc._RF.push(t,"c13fc1C+ahOU7xSEeNzlCVF","player"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,c=o.ccclass,i=o.property,r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e}return __extends(e,t),e.prototype.onLoad=function(){cc.director.getCollisionManager().enabled=!0},e.prototype.start=function(){},__decorate([i(cc.Label)],e.prototype,"label",void 0),e=__decorate([c],e)}(cc.Component);n.default=r,cc._RF.pop()},{}],"polyglot.min":[function(e,t,n){"use strict";cc._RF.push(t,"e26fd9yy65A4q3/JkpVnFYg","polyglot.min");var o,c,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};o=void 0,c=function(t){function e(e){e=e||{},this.phrases={},this.extend(e.phrases||{}),this.currentLocale=e.locale||"en",this.allowMissing=!!e.allowMissing,this.warn=e.warn||n}function c(e,t,n){var o,c,i,r,a,s,l;return null!=n&&e?(i=(c=e.split(u))[(r=t,a=n,p[(s=r,l=function(e){var t,n,o,c={};for(t in e)if(e.hasOwnProperty(t))for(o in n=e[t])c[n[o]]=t;return c}(f),l[s]||l.en)](a))]||c[0],o=i.replace(/^\s+|\s+$/g,"")):o=e,o}function n(e){t.console&&t.console.warn&&t.console.warn("WARNING: "+e)}e.VERSION="0.4.3",e.prototype.locale=function(e){return e&&(this.currentLocale=e),this.currentLocale},e.prototype.extend=function(e,t){var n;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],t&&(o=t+"."+o),"object"==(void 0===n?"undefined":i(n))?this.extend(n,o):this.phrases[o]=n)},e.prototype.clear=function(){this.phrases={}},e.prototype.replace=function(e){this.clear(),this.extend(e)},e.prototype.t=function(e,t){var n,o;return"number"==typeof(t=null==t?{}:t)&&(t={smart_count:t}),"string"==typeof this.phrases[e]?n=this.phrases[e]:"string"==typeof t._?n=t._:this.allowMissing?n=e:(this.warn('Missing translation for key: "'+e+'"'),o=e),"string"==typeof n&&(t=function(e){var t={};for(var n in e)t[n]=e[n];return t}(t),o=function(e,t){for(var n in t)"_"!==n&&t.hasOwnProperty(n)&&(e=e.replace(new RegExp("%\\{"+n+"\\}","g"),t[n]));return e}(o=c(n,this.currentLocale,t.smart_count),t)),o},e.prototype.has=function(e){return e in this.phrases};var u="||||",p={chinese:function(e){return 0},german:function(e){return 1!==e?1:0},french:function(e){return 1<e?1:0},russian:function(e){return e%10==1&&e%100!=11?0:2<=e%10&&e%10<=4&&(e%100<10||20<=e%100)?1:2},czech:function(e){return 1===e?0:2<=e&&e<=4?1:2},polish:function(e){return 1===e?0:2<=e%10&&e%10<=4&&(e%100<10||20<=e%100)?1:2},icelandic:function(e){return e%10!=1||e%100==11?1:0}},f={chinese:["fa","id","ja","ko","lo","ms","th","tr","zh"],german:["da","de","en","es","fi","el","he","hu","it","nl","no","pt","sv"],french:["fr","tl","pt-br"],russian:["hr","ru"],czech:["cs"],polish:["pl"],icelandic:["is"]};return e},"function"==typeof define&&define.amd?define([],function(){return c(o)}):"object"==(void 0===n?"undefined":i(n))?t.exports=c(o):o.Polyglot=c(o),cc._RF.pop()},{}],setting:[function(e,t,n){"use strict";cc._RF.push(t,"61ee5T8IIVORqDemqwaecMU","setting"),cc.Class({extends:cc.Component,properties:{canvas:{type:cc.Node,default:null}},start:function(){},setScreen:function(){cc.screen.fullScreen()?this.exitFullScreen():this.requestFullScreen()},requestFullScreen:function(){cc.view.enableAutoFullScreen(!0)},exitFullScreen:function(){cc.screen.exitFullScreen()},backStart:function(){cc.director.loadScene("start",function(){console.log("Start menu is loaded.")})}}),cc._RF.pop()},{}],start:[function(e,t,n){"use strict";cc._RF.push(t,"69862RCK4lIOakuWgV4sGm0","start"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,c=o.ccclass,i=(o.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.onLoad=function(){cc.view.enableAutoFullScreen(!0)},t.prototype.onFullScreenChange=function(){console.log("Request Full Screen success!")},t.prototype.startGame=function(){cc.director.loadScene("menu",function(){console.log("Menu is loaded.")})},t.prototype.settingMenu=function(){cc.director.loadScene("setting",function(){console.log("Setting menu is loaded.")})},t=__decorate([c],t)}(cc.Component));n.default=i,cc._RF.pop()},{}],zh:[function(e,t,n){"use strict";cc._RF.push(t,"ec922g5eNBOwqDl8nSECXnf","zh"),window.i18n||(window.i18n={}),window.i18n.languages||(window.i18n.languages={}),window.i18n.languages.zh={label_text:{hello:"你好！",bye:"再见！"}},cc._RF.pop()},{}]},{},["LanguageData","LocalizedLabel","LocalizedSprite","SpriteFrameSet","polyglot.min","bulletGroup","common","control","global","main","menu","player","setting","start","en","zh"]);